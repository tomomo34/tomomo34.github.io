<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.0/css/bulma.min.css">
    <link rel="stylesheet" href="styles_for_backend.css">
    <link rel="icon" type="image/x-icon" href="/images/icon.ico">
    <link href="./code/prism.css" rel="stylesheet" />
    <script src="./code/prism.js"></script>
    <title>E2EE</title>
</head>
<body>
<nav class="navbar is-black">
    <a href="index.html" target="_self">
        <img style="width: 48px; height: 48px" src="/images/icon.ico" alt="Icon">
    </a>
    <a class="navbar-item" target="_self" rel="noopener noreferrer" href="demo.html">Demo</a>
    <a class="navbar-item" target="_self" rel="noopener noreferrer" href="./e2ee_princip.html">Jak tohle funguje</a>
    <a class="navbar-item" target="_self" rel="noopener noreferrer" href="./backend_explain.html">Vysv캩tlen칤 backendu</a>
    <a class="navbar-item" target="_self" rel="noopener noreferrer" href="./which_to_choose.html">Co si zvolit</a>
</nav>
<div class="flex">
<div class="content">
    <h1>Jak tahle str치nka funguje</h1>
    <p>Tahle sttr치nka je z valn칠 v캩t코칤ny CSS a HTML k칩d, ale to bych nebyl j치 abych
    neud캩lal n캩co speci치ln칤ho ne je zad치n칤. Hlavn칤m rozd칤lem od norm치ln칤ch str치nek je
    tahle d캩siv치 v캩c: <xmp><code></code></xmp> Na prvn칤 pohled slo쬴t치, ale velmi mocn치
    v캩c pro web a t칤m je JavaScript. V tomhle p콏칤pad캩 ho vyu쮂셨치m na to aby moje demo bylo opravdu funk캜n칤
    a ne jen n치hodn칠 znaky.</p>
    <p>To je ten d캩siv칳 k칩d tady napravo ===></p>
    <h2>Co je to JavaScript a jak ho pou쮂셨at?</h2>
    <blockquote>JavaScript (JS) je skriptovac칤 jazyk u캜en칳 pro tvorbu modern칤ch dynamick칳ch web콢.
        Byl p콏edstaven v devades치t칳ch letech 20. stolet칤, jako reakce na klasick칠 statick칠 internetov칠
        str치nky a otev콏el prostor pro interaktivn칤 webov칠 aplikace i p콏칤jemn캩j코칤 u쬴vatelsk칠
        rozhran칤 dopln캩n칠 animacemi a 2D i 3D grafikou. JavaScript je prioritn캩 ur캜en ke zhotovov치n칤
        klientsk칳ch 캜치st칤 aplikac칤, s p콏칤chodem Node.js a podobn칳ch technologi칤 v코ak dok치쬰
        plnohodnotn캩 figurovat i na stran캩 serveru.<a>[7]</a></blockquote>
    <p>Zjednodu코en캩 se jedn치 o programovac칤 jazyk pro d캩l치n칤 interaktivn칤ch str치nek.
    Jde o jeden z nejpou쭀an캩j코칤ch programovac칤ch jazyk콢 na sv캩t캩 a pou쮂셨치 ho skoro ka쬯치 str치nka.
    </p>
    <article class="message is-info">
        <div class="message-header">
            <p>98.7% of websites (around 49,501,698 websites) on the Internet use JavaScript as a client-side programming language. <a>[8]</a></p>
        </div>
    </article>
    <h2>Co d캩l치 tenhle k칩d?</h2>
    <p>Tady zkus칤m vysv캩tlit co d캩l치 tenhle skript</p>
    <p>Za캜neme hned od za캜치tku tenhle 콏치dek naimportuje modul e2ee.js co je script kter칳 napsal <a href="https://github.com/porridgewithraisins">u/porridgewithraisins</a>
    na GitHubu pod MIT licenc칤.
    </p>
    <br>
    <p>Dal코칤 캜치st je vygenerov치n칤 ve콏ejn칠ho kl칤캜e pro druh칠ho klienta a ulo쬰n칤 do prom캩nn칠 nazvan칠 PublicKey
    Zde za캜칤na funkce "async function encrypt" ta se d치l star치 o 코칤frov치n칤 zadan칠ho textu. Kl칤캜 se vygeneruje
    a exportuje do prom캩nn칠.</p>
    <article class="message is-success">
        <div class="message-header">
            <p>Co je async funkce?</p>
        </div>
        <div class="message-body">
            <p>Jde o funkci kter치 prob칤h치 nez치visle na 캜ase b캩쮂셖칤ho k칩du. P콏i zapnut칤 ud캩l치 takzvan칳 "slib"
            a await funkce po캜k치 ne se tento slib napln칤 a ode코le info d치l. Funkce m치 v칳hodu v tom 쬰 nezastav칤
            캜ek치n칤m chod str치nky tak jako tradi캜n칤 funkce</p>
        </div>
    </article>
    <p>Pot칠 dojde k tomu 쬰 si odes칤latel nastav칤 ve콏ejn칳 kl칤캜 p콏칤jemce a za코ifruje zpr치vu "partySays" dal코칤 콏치dky se t칳kaj칤
    debbugingu do konzole a vyti코t캩n칤 ve콏ejn칠ho kl칤캜e kter칳 je nastaven. Za코칤frovan치 zpr치va je pot칠 odesl치n jako return t칠to funkce
    a s n칤m je vr치cena taky party instance kter치 mezi funkcemi p콏en치코칤 dal코칤 informace.</p>
    <p>Posledn칤 fukce je funkce kter치 de코ifruje tuto zpr치vu a vr치t칤 j칤 zp캩t aby mohla b칳t zobrazena m칳m html k칩dem. Tahle funkce
    vyu쬴je partyInstance a .decrypt funkce na od코칤frov치n칤 zpr치vy a pot칠 v코e vyexportuje do konzole a vr치t칤 sv치 data p콏es return funkci.</p>
    <h2>Pro캜 to d캩lat takhle slo쬴t캩?</h2>
    <p style="font-size: 1.2rem">Pro캜 ne? 游땏</p>
    <p>Hlavn캩 proto proto쬰 jsem cht캩l m칤t str치nky kter칠 doopravdy n캩co interaktivn캩 d캩laj칤 a ne jenom pr치zdnou HTML 코ablonu
    코lo mi hlavn캩 o to zab칤t n캩jak칳 캜as a kdy u jsem byl u toho tak jsem se n캩co nau캜il. P콏izn치m se 쬰 spousta z toho k칩du
    je voln치 inspirace nebo i p콏칤m칠 kop칤rov치n칤 z jin칳ch zdroj콢, ale budu argumentovat t칤m 쬰 programov치n칤 nen칤 o tom um캩t to nazpam캩t,
    ale o tom aby 캜lov캩k um캩l vyu쮂셦 v코echno co m콢쬰 a dos치hl t칤m v칳sledku.</p>

</div>
<div>
<pre class="code"><code class="language-javascript">
import { E2EE } from "https://esm.sh/e2ee.js";
var PublicKey = ""
window.encrypt = async function encrypt(message) {
    const party = new E2EE();
    await party.generateKeyPair();
    const partyPublicKey = await party.exportPublicKey();
    await party.setRemotePublicKey(partyPublicKey);
    const partySays = message;
    const encryptedPartySays = await party.encrypt(partySays);
    PublicKey = partyPublicKey;
    window. public_key = PublicKey;
    console.log("This is the public key:"+ partyPublicKey);
    scrambleText('.text', [
        'This is the public key',
        partyPublicKey,
    ]);
    return { encryptedMessage: encryptedPartySays, partyInstance: party };
}

window.decrypt = async function decrypt(encryptedMessage, partyInstance) {
    const decryptedPartySays = await partyInstance.decrypt(encryptedMessage);
    console.log("Message being encrypted:" + decryptedPartySays);
    console.log("Encrypted message:" + encryptedMessage);
    return decryptedPartySays;
}
    </code></pre>
    <pre class="code"><code class="language-javascript">
import { E2EE } from "https://esm.sh/e2ee.js";
    </code></pre>
    <p class="title_code">Import k칩du</p>
    <pre class="code"><code class="language-javascript">
var PublicKey = ""
window.encrypt = async function encrypt(message) {
    const party = new E2EE();
    await party.generateKeyPair();
    const partyPublicKey = await party.exportPublicKey();
    </code></pre>
    <p class="title_code">Vytvo콏en칤 a export public kl칤캜e</p>
    <pre class="code"><code class="language-javascript">
    await party.setRemotePublicKey(partyPublicKey);
    const partySays = message;
    const encryptedPartySays = await party.encrypt(partySays);
    PublicKey = partyPublicKey;
    window. public_key = PublicKey;
    console.log("This is the public key:"+ partyPublicKey);
    scrambleText('.text', [
        'This is the public key',
        partyPublicKey,
    ]);
    return { encryptedMessage: encryptedPartySays, partyInstance: party };
}
    </code></pre>
    <p class="title_code">말frov치n칤 zpr치vy a v칳stupy do konzole</p>
    <pre class="code"><code class="language-javascript">
window.decrypt = async function decrypt(encryptedMessage, partyInstance) {
    const decryptedPartySays = await partyInstance.decrypt(encryptedMessage);
    console.log("Message being encrypted:" + decryptedPartySays);
    console.log("Encrypted message:" + encryptedMessage);
    return decryptedPartySays;
}
    </code></pre>
    <p class="title_code">De코ifrov치n칤 zpr치vy a jej칤 odesl치n칤</p>

</div>
</div>
</body>
</html>

